--- functions.rkt.old	2014-05-22 13:38:52.705977658 -0700
+++ functions.rkt	2014-05-22 13:39:15.641977495 -0700
@@ -7,7 +7,17 @@
 (provide (all-from-out "enums.rkt")
          (all-defined-out))
 
-(define-ffi-definer define-tox (ffi-lib "libtoxcore"))
+; jenkins junk
+(define exe-path (path->string (find-system-path 'run-file)))
+
+; shenanigans to get the binary to be called from anywhere and still work
+(define lib-path (string->path (string-append
+				 (substring exe-path 0
+					    (- (string-length exe-path)
+					       6))
+				 "../lib/libtoxcore")))
+
+(define-ffi-definer define-tox (ffi-lib lib-path))
 
 #|
  # this code is verbose, messy, and probably doesn't work at all.
